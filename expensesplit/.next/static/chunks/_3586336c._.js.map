{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Aditi/Desktop/CS%20Classes/CS%20520/Expense-Splitting-Application/expensesplit/convex/_generated/api.js"],"sourcesContent":["/* eslint-disable */\n/**\n * Generated `api` utility.\n *\n * THIS CODE IS AUTOMATICALLY GENERATED.\n *\n * To regenerate, run `npx convex dev`.\n * @module\n */\n\nimport { anyApi, componentsGeneric } from \"convex/server\";\n\n/**\n * A utility for referencing Convex functions in your app's API.\n *\n * Usage:\n * ```js\n * const myFunctionReference = api.myModule.myFunction;\n * ```\n */\nexport const api = anyApi;\nexport const internal = anyApi;\nexport const components = componentsGeneric();\n"],"names":[],"mappings":"AAAA,kBAAkB,GAClB;;;;;;;CAOC;;;;;AAED;AAAA;AAAA;;AAUO,MAAM,MAAM,yJAAA,CAAA,SAAM;AAClB,MAAM,WAAW,yJAAA,CAAA,SAAM;AACvB,MAAM,aAAa,CAAA,GAAA,yLAAA,CAAA,oBAAiB,AAAD","debugId":null}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Aditi/Desktop/CS%20Classes/CS%20520/Expense-Splitting-Application/expensesplit/app/groups/%5Bid%5D/page.jsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { useParams } from \"next/navigation\";\nimport { useQuery, useMutation } from \"convex/react\";\nimport { api } from \"../../../convex/_generated/api\";\n\nexport default function GroupDetailPage() {\n  const { id } = useParams(); // groupId\n  const members = useQuery(api.groups.members, { groupId: id });\n  const expenses = useQuery(api.expenses.listByGroup, { groupId: id });\n  const balances = useQuery(api.expenses.balances, { groupId: id });\n  const myContacts = useQuery(api.contacts.list); \n  const addMember = useMutation(api.groups.addMember);\n  const removeMember = useMutation(api.groups.removeMember);\n  const createEqual = useMutation(api.expenses.createEqualSplit);\n  \n\n  // For adding member: a simple input to paste a contactId (MVP)\n  const [contactId, setContactId] = React.useState(\"\");\n  const [desc, setDesc] = React.useState(\"\");\n  const [amount, setAmount] = React.useState(\"\");\n\n  const loadingMembers = members === undefined;\n  const loadingExpenses = expenses === undefined;\n  const loadingBalances = balances === undefined;\n  const [selectedContactId, setSelectedContactId] = React.useState(\"\");\n  const createCustom = useMutation(api.expenses.createCustomSplit);\n  const [mode, setMode] = React.useState(\"equal\"); // \"equal\" | \"custom\"\n  const [customDesc, setCustomDesc] = React.useState(\"\");\n  const [customShares, setCustomShares] = React.useState([]);\n  \n  // when members load, initialize one share row per member\n  React.useEffect(() => {\n    if (members) {\n      setCustomShares(\n        members.map((m) => ({ contactId: m._id ?? m.contactId ?? m.id, share: 0 }))\n      );\n    }\n  }, [members]);\n  \n\n\n  return (\n    <main className=\"mx-auto max-w-3xl p-6 space-y-8\">\n      <h1 className=\"text-2xl font-semibold\">Group</h1>\n\n      {/* Members */}\n      <form\n  onSubmit={async (e) => {\n    e.preventDefault();\n    if (!selectedContactId) return;\n    await addMember({ groupId: id, contactId: selectedContactId });\n    setSelectedContactId(\"\");\n  }}\n  className=\"flex gap-2\"\n>\n  <select\n    className=\"border rounded px-3 py-2 flex-1\"\n    value={selectedContactId}\n    onChange={(e) => setSelectedContactId(e.target.value)}\n  >\n    <option value=\"\">Select a contact…</option>\n    {(myContacts ?? []).map((c) => (\n      <option key={c._id} value={c._id}>\n        {c.name}{c.email ? ` — ${c.email}` : \"\"}{c.phone ? ` — ${c.phone}` : \"\"}\n      </option>\n    ))}\n  </select>\n  <button className=\"border rounded px-4 py-2\">Add</button>\n</form>\n\n\n      {/* Expenses */}\n      <section className=\"space-y-3\">\n  <h2 className=\"text-xl font-semibold\">Expenses</h2>\n\n  {/* Toggle */}\n  <div className=\"flex gap-2\">\n    <button\n      className={`border rounded px-3 py-1 ${mode === \"equal\" ? \"bg-black text-white\" : \"\"}`}\n      onClick={() => setMode(\"equal\")}\n      type=\"button\"\n    >\n      Equal split\n    </button>\n    <button\n      className={`border rounded px-3 py-1 ${mode === \"custom\" ? \"bg-black text-white\" : \"\"}`}\n      onClick={() => setMode(\"custom\")}\n      type=\"button\"\n    >\n      Custom split\n    </button>\n  </div>\n\n  {mode === \"equal\" ? (\n    // ---------- Equal split (your existing form) ----------\n    <form\n      onSubmit={async (e) => {\n        e.preventDefault();\n        const total = Number(amount);\n        if (!desc.trim() || !isFinite(total) || total <= 0) return;\n        await createEqual({ groupId: id, description: desc.trim(), amount: total });\n        setDesc(\"\"); setAmount(\"\");\n      }}\n      className=\"flex gap-2\"\n    >\n      <input className=\"border rounded px-3 py-2 flex-1\" placeholder=\"Description\"\n             value={desc} onChange={(e) => setDesc(e.target.value)} />\n      <input className=\"border rounded px-3 py-2 w-32\" placeholder=\"Amount\"\n             value={amount} onChange={(e) => setAmount(e.target.value)} />\n      <button className=\"border rounded px-4 py-2\">Add equal split</button>\n    </form>\n  ) : (\n    // ---------- Custom split ----------\n    <div className=\"space-y-3\">\n      <div className=\"grid gap-2\">\n        {(members ?? []).map((m, i) => {\n          const idForRow = m._id ?? m.contactId ?? m.id;\n          const share = customShares.find((s) => s.contactId === idForRow)?.share ?? 0;\n          return (\n            <div key={idForRow} className=\"flex items-center gap-3\">\n              <div className=\"w-48 truncate\">{m.name}</div>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                className=\"border rounded px-2 py-1 w-40\"\n                placeholder=\"Amount\"\n                value={share}\n                onChange={(e) => {\n                  const v = Number(e.target.value);\n                  setCustomShares((prev) =>\n                    prev.map((s) =>\n                      s.contactId === idForRow ? { ...s, share: isFinite(v) ? v : 0 } : s\n                    )\n                  );\n                }}\n              />\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Summary + submit */}\n      <form\n        onSubmit={async (e) => {\n          e.preventDefault();\n          const cleaned = customShares.filter((s) => s.share > 0);\n          if (!customDesc.trim() || cleaned.length === 0) return;\n\n          await createCustom({\n            groupId: id,\n            description: customDesc.trim(),\n            shares: cleaned,\n          });\n\n          setCustomDesc(\"\");\n          setCustomShares(\n            (members ?? []).map((m) => ({ contactId: m._id ?? m.contactId ?? m.id, share: 0 }))\n          );\n        }}\n        className=\"flex gap-2 items-center\"\n      >\n        <input\n          className=\"border rounded px-3 py-2 flex-1\"\n          placeholder=\"Description\"\n          value={customDesc}\n          onChange={(e) => setCustomDesc(e.target.value)}\n        />\n        <div className=\"text-sm text-gray-600 px-2\">\n          Total: $\n          {customShares.reduce((sum, s) => sum + (Number.isFinite(s.share) ? s.share : 0), 0).toFixed(2)}\n        </div>\n        <button className=\"border rounded px-4 py-2\">Add custom split</button>\n      </form>\n    </div>\n  )}\n\n  {/* Existing list of expenses */}\n  <div className=\"rounded border\">\n    {loadingExpenses ? (\n      <div className=\"p-3 text-gray-500\">Loading…</div>\n    ) : expenses?.length === 0 ? (\n      <div className=\"p-3 text-gray-500\">No expenses yet.</div>\n    ) : (\n      <ul className=\"divide-y\">\n        {expenses.map((e) => (\n          <li key={e._id} className=\"p-3\">\n            <div className=\"font-medium\">{e.description}</div>\n            <div className=\"text-sm text-gray-500\">${e.amount.toFixed(2)}</div>\n          </li>\n        ))}\n      </ul>\n    )}\n  </div>\n</section>\n\n\n      {/* Balances */}\n      <section className=\"space-y-3\">\n        <h2 className=\"text-xl font-semibold\">Balances</h2>\n        <div className=\"rounded border\">\n          {loadingBalances ? (\n            <div className=\"p-3 text-gray-500\">Loading…</div>\n          ) : balances?.length === 0 ? (\n            <div className=\"p-3 text-gray-500\">No balances yet.</div>\n          ) : (\n            <ul className=\"divide-y\">\n              {balances.map(b => (\n                <li key={b.contactId} className=\"p-3 flex justify-between\">\n                  <span>{b.name}</span>\n                  <span>${(b.net ?? 0).toFixed(2)}</span>\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n      </section>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}